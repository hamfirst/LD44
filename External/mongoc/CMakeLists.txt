cmake_minimum_required(VERSION 3.1.0)

include_directories(${CMAKE_CURRENT_SOURCE_DIR} ${PROJECT_SOURCE_DIR} ${PROJECT_SOURCE_DIR}/External ${PROJECT_SOURCE_DIR}/StormTech ${PROJECT_SOURCE_DIR}/Tools ${PROJECT_SOURCE_DIR}/Shared ${PROJECT_SOURCE_DIR}/Project)
set(CMAKE_CXX_STANDARD 17)

add_definitions(-DMONGOC_COMPILATION)

set(GENERIC_SRC_mongoc 
            mongoc-socket.c
            mongoc-matcher.c
            mongoc-set.c
            mongoc-sasl.c
            mongoc-stream-tls.c
            mongoc-client.c
            mongoc-cursor-cursorid.c
            mongoc-stream-tls-secure-channel.c
            mongoc-database.c
            mongoc-rpc.c
            mongoc-collection.c
            mongoc-list.c
            mongoc-stream.c
            mongoc-gridfs-file-list.c
            mongoc-log.c
            mongoc-stream-file.c
            mongoc-cursor-transform.c
            mongoc-write-command.c
            mongoc-rand-openssl.c
            mongoc-queue.c
            mongoc-topology.c
            mongoc-topology-scanner.c
            mongoc-crypto-openssl.c
            mongoc-stream-buffered.c
            mongoc-secure-channel.c
            mongoc-gridfs-file-page.c
            mongoc-apm.c
            mongoc-stream-tls-openssl.c
            mongoc-scram.c
            mongoc-cursor-array.c
            mongoc-bulk-operation.c
            mongoc-stream-tls-secure-transport.c
            mongoc-host-list.c
            mongoc-crypto-cng.c
            mongoc-metadata.c
            mongoc-crypto-common-crypto.c
            mongoc-index.c
            mongoc-counters.c
            mongoc-cursor.c
            mongoc-memcmp.c
            mongoc-server-stream.c
            mongoc-async.c
            mongoc-array.c
            mongoc-gridfs-file.c
            mongoc-cluster.c
            mongoc-server-description.c
            mongoc-secure-transport.c
            mongoc-stream-gridfs.c
            mongoc-uri.c
            mongoc-buffer.c
            mongoc-version-functions.c
            mongoc-stream-socket.c
            mongoc-stream-tls-openssl-bio.c
            mongoc-openssl.c
            mongoc-init.c
            mongoc-opcode.c
            mongoc-rand-cng.c
            mongoc-write-concern.c
            mongoc-topology-description.c
            mongoc-b64.c
            mongoc-find-and-modify.c
            mongoc-read-concern.c
            mongoc-gridfs.c
            mongoc-rand-common-crypto.c
            mongoc-ssl.c
            mongoc-client-pool.c
            mongoc-async-cmd.c
            mongoc-matcher-op.c
            mongoc-crypto.c
            mongoc-util.c
            mongoc-read-prefs.c
            )

set(GENERIC_HEADER_mongoc 
            mongoc-ssl-private.h
            mongoc-buffer-private.h
            mongoc-socket.h
            mongoc-sasl-private.h
            mongoc-memcmp-private.h
            mongoc-rand.h
            mongoc-topology-description-private.h
            mongoc-array-private.h
            mongoc-gridfs.h
            mongoc-secure-channel-private.h
            mongoc-cursor-cursorid-private.h
            mongoc-client-pool-private.h
            mongoc-read-prefs.h
            mongoc-matcher.h
            mongoc-init.h
            mongoc-b64-private.h
            mongoc-stream-gridfs.h
            mongoc-cursor-transform-private.h
            mongoc-rand-private.h
            mongoc-stream-tls-private.h
            mongoc-secure-transport-private.h
            mongoc-rpc-private.h
            mongoc-apm.h
            mongoc-cursor-array-private.h
            mongoc-read-concern-private.h
            mongoc-version-functions.h
            mongoc-stream-tls.h
            mongoc-cursor-private.h
            mongoc-stream-tls-openssl.h
            mongoc-set-private.h
            mongoc-read-prefs-private.h
            mongoc-config.h
            mongoc-metadata.h
            mongoc-scram-private.h
            mongoc-uri.h
            mongoc-crypto-private.h
            mongoc-cluster-private.h
            mongoc-uri-private.h
            mongoc-matcher-private.h
            mongoc-client-private.h
            mongoc-collection.h
            mongoc-flags.h
            mongoc-stream-tls-secure-channel-private.h
            mongoc-topology-scanner-private.h
            mongoc-write-command-private.h
            mongoc-trace.h
            mongoc-log.h
            mongoc-database-private.h
            mongoc-apm-private.h
            mongoc-topology-private.h
            mongoc-matcher-op-private.h
            mongoc-errno-private.h
            mongoc-find-and-modify.h
            mongoc-stream-tls-secure-transport.h
            mongoc.h
            mongoc-client-pool.h
            mongoc-host-list.h
            mongoc-stream-private.h
            mongoc-openssl-private.h
            mongoc-counters-private.h
            mongoc-stream-tls-openssl-private.h
            mongoc-index.h
            mongoc-client.h
            mongoc-queue-private.h
            mongoc-server-description.h
            mongoc-error.h
            utlist.h
            mongoc-stream-tls-secure-transport-private.h
            mongoc-opcode.h
            mongoc-bulk-operation.h
            mongoc-stream-tls-secure-channel.h
            mongoc-collection-private.h
            mongoc-stream.h
            mongoc-crypto-cng-private.h
            mongoc-trace-private.h
            mongoc-ssl.h
            mongoc-async-cmd-private.h
            mongoc-stream-buffered.h
            mongoc-stream-file.h
            mongoc-host-list-private.h
            mongoc-server-stream-private.h
            mongoc-database.h
            mongoc-iovec.h
            mongoc-opcode-private.h
            mongoc-read-concern.h
            mongoc-stream-tls-openssl-bio-private.h
            mongoc-write-concern-private.h
            mongoc-async-private.h
            mongoc-gridfs-file-private.h
            mongoc-metadata-os-private.h
            mongoc-gridfs-file-page-private.h
            mongoc-metadata-private.h
            mongoc-server-description-private.h
            mongoc-gridfs-file-page.h
            mongoc-gridfs-file.h
            mongoc-thread-private.h
            mongoc-crypto-openssl-private.h
            mongoc-util-private.h
            mongoc-log-private.h
            mongoc-gridfs-private.h
            mongoc-list-private.h
            mongoc-bulk-operation-private.h
            mongoc-find-and-modify-private.h
            mongoc-gridfs-file-list.h
            mongoc-gridfs-file-list-private.h
            mongoc-version.h
            mongoc-crypto-common-crypto-private.h
            mongoc-cursor.h
            mongoc-stream-socket.h
            mongoc-write-concern.h
            mongoc-socket-private.h
            )

add_library(mongoc STATIC ${GENERIC_SRC_mongoc} ${GENERIC_HEADER_mongoc})

